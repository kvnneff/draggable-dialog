(function outer(f,c,a){function d(b,a){if(c[b])return c[b].exports;if(f[b])return g(b,d);throw Error('cannot find module "'+b+'"');}function g(b,d){var g=c[b]={exports:{}},h=f[b],n=h[2];h[0].call(g.exports,function(a){var g=f[b][1][a];return d(g?g:a)},g,g.exports,outer,f,c,a);n&&(c[n]=c[b]);return c[b].exports}var h=function(){return this}(),b;for(b in a)a[b]?h[a[b]]=d(b):d(b);d.duo=!0;d.cache=c;d.modules=f;return d})({1:[function(e,f,c){c=e("emitter");var a=e("classes"),d=e("draggable"),g=e("mouse"),
h,b;b=function(){this.hide()};h=function k(b,a){if(!(this instanceof k))return new k(b,a);this.options=a||{};this.nodes={};this.el=b;if(!this.el||!this.el.tagName)return Error("Not a suitable element");this.render()};c(h.prototype);h.prototype.render=function(){var k=this;this.docFragment=document.createDocumentFragment();this.nodes.containerDiv=document.createElement("div");this.nodes.titleClose=document.createElement("a");this.nodes.titleDiv=this.nodes.containerDiv.cloneNode();this.nodes.contentDiv=
this.nodes.containerDiv.cloneNode();this.nodes.titleClose.innerHTML="&times;<em>close</em>";"string"===typeof this.el?this.nodes.contentDiv.innerHTML=this.el:(a(this.el).remove("DraggableDialog--hidden"),this.nodes.contentDiv.appendChild(this.el));this.options.title&&(this.nodes.titleSpan=document.createElement("span"),this.nodes.titleSpan.innerHTML=this.options.title,a(this.nodes.titleSpan).add("DraggableDialog-title"),this.nodes.titleDiv.appendChild(this.nodes.titleSpan));this.nodes.titleDiv.appendChild(this.nodes.titleClose);
this.nodes.containerDiv.appendChild(this.nodes.titleDiv);this.nodes.containerDiv.appendChild(this.nodes.contentDiv);this.docFragment.appendChild(this.nodes.containerDiv);a(this.nodes.containerDiv).add("DraggableDialog").add("DraggableDialog--hidden");a(this.nodes.titleDiv).add("DraggableDialog-titleBar");a(this.nodes.titleClose).add("DraggableDialog-closeButton");a(this.nodes.contentDiv).add("DraggableDialog-content");this.nodes.titleClose.addEventListener("click",b.bind(k),!1);this.mouse=g(this.nodes.containerDiv,
this);this.mouse.bind();this.draggable=d(this.nodes.containerDiv);this.options.title&&this.draggable.handle(this.nodes.titleDiv);this.draggable.on("drag",function(){k.emit("drag")});this.draggable.on("start",function(){k.emit("start")});this.draggable.on("end",function(){k.emit("end")});this.draggable.build()};h.prototype.show=function(){document.body.appendChild(this.docFragment);a(this.nodes.containerDiv).remove("DraggableDialog--hidden");this.active();this.emit("show")};h.prototype.hide=function(){a(this.nodes.containerDiv).add("DraggableDialog--hidden");
this.emit("hide")};h.prototype.remove=function(){this.draggable&&this.draggable.destroy();this.nodes.titleClose.removeEventListener("click",b.bind(self),!1);this.nodes.containerDiv.parentNode.removeChild(this.nodes.containerDiv);this.emit("remove")};h.prototype.onmousedown=function(){this.active();this.emit("click")};h.prototype.addClass=function(b){a(this.nodes.containerDiv).add(b)};h.prototype.active=function(){var b=document.getElementsByClassName("DraggableDialog"),d=[],d=Array.prototype.slice.call(b);
for(i=d.length;i--;)a(d[i]).add("DraggableDialog--inactive");a(this.nodes.containerDiv).remove("DraggableDialog--inactive").add("DraggableDialog--active")};f.exports=function(b,a){return new h(b,a)}},{emitter:2,classes:3,draggable:4,mouse:5}],2:[function(e,f,c){function a(d){if(d){for(var g in a.prototype)d[g]=a.prototype[g];return d}}f.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,g){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(g);return this};
a.prototype.once=function(a,g){function h(){b.off(a,h);g.apply(this,arguments)}var b=this;this._callbacks=this._callbacks||{};h.fn=g;this.on(a,h);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,g){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var h=this._callbacks[a];if(!h)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var b,m=0;m<h.length;m++)if(b=
h[m],b===g||b.fn===g){h.splice(m,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var g=[].slice.call(arguments,1),h=this._callbacks[a];if(h)for(var h=h.slice(0),b=0,m=h.length;b<m;++b)h[b].apply(this,g);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],3:[function(e,f,c){function a(b){if(!b)throw Error("A DOM element reference is required");
this.el=b;this.list=b.classList}var d=e("indexof"),g=/\s+/,h=Object.prototype.toString;f.exports=function(b){return new a(b)};a.prototype.add=function(b){if(this.list)return this.list.add(b),this;var a=this.array();~d(a,b)||a.push(b);this.el.className=a.join(" ");return this};a.prototype.remove=function(b){if("[object RegExp]"==h.call(b))return this.removeMatching(b);if(this.list)return this.list.remove(b),this;var a=this.array();b=d(a,b);~b&&a.splice(b,1);this.el.className=a.join(" ");return this};
a.prototype.removeMatching=function(b){for(var a=this.array(),d=0;d<a.length;d++)b.test(a[d])&&this.remove(a[d]);return this};a.prototype.toggle=function(b,a){if(this.list)return"undefined"!==typeof a?a!==this.list.toggle(b,a)&&this.list.toggle(b):this.list.toggle(b),this;"undefined"!==typeof a?a?this.add(b):this.remove(b):this.has(b)?this.remove(b):this.add(b);return this};a.prototype.array=function(){var b=this.el.className.replace(/^\s+|\s+$/g,"").split(g);""===b[0]&&b.shift();return b};a.prototype.has=
a.prototype.contains=function(b){return this.list?this.list.contains(b):!!~d(this.array(),b)}},{indexof:6}],6:[function(e,f,c){f.exports=function(a,d){if(a.indexOf)return a.indexOf(d);for(var g=0;g<a.length;++g)if(a[g]===d)return g;return-1}},{}],4:[function(e,f,c){function a(b,a){this._yAxis=this._xAxis=!0;this.el=b;this.options={};this.options.roundPixels=!0;"undefined"!==typeof a.roundPixels&&(this.options.roundPixels=a.roundPixels)}c=e("emitter");var d=e("mouse"),g=e("events"),h=e("translate"),
b=e("classes");f.exports=function(b,d){d=d||{};return new a(b,d)};c(a.prototype);a.prototype.build=function(){var b=this._handle||this.el;this.touch=g(b,this);this.touch.bind("touchstart","onmousedown");this.touch.bind("touchmove","onmousemove");this.touch.bind("touchend","onmouseup");this.mouse=d(b,this);this.mouse.bind();return this};a.prototype.onmousedown=function(a){a.preventDefault();a.touches&&(a=a.touches[0]);var d=this.rect=this.el.getBoundingClientRect();this.ox=d.left-this.el.offsetLeft;
this.oy=d.top-this.el.offsetTop;this.x=a.pageX-d.left;this.y=a.pageY-d.top;b(this.el).add("dragging");this.emit("start")};a.prototype.onmousemove=function(a){var b,d,g,e,c;a.touches&&(a=a.touches[0]);var f=this._xAxis?a.pageX-this.el.offsetLeft-this.x:this.ox,l=this._yAxis?a.pageY-this.el.offsetTop-this.y:this.oy;c=this.el;if(g=this._containment)a=l+c.clientHeight,b=f+c.clientWidth,d=g.clientHeight,g=g.clientWidth,e=d-c.clientHeight,c=g-c.clientWidth,0>=f&&(f=0),0>=l&&(l=0),a>=d&&(l=e),b>=g&&(f=c);
!0===this.options.roundPixels&&(f=Math.floor(f),l=Math.floor(l));h(this.el,f,l);this.emit("drag")};a.prototype.onmouseup=function(a){b(this.el).remove("dragging");this.emit("end")};a.prototype.destroy=function(){this.mouse&&this.mouse.unbind();this.mouse=null;this.touch&&this.touch.unbind();this.touch=null;return this};a.prototype.disableXAxis=function(){this._xAxis=!1;return this};a.prototype.disableYAxis=function(){this._yAxis=!1;return this};a.prototype.containment=function(a){this._containment=
a;return this};a.prototype.handle=function(a){this._handle=a;return this}},{emitter:2,mouse:5,events:7,translate:8,classes:3}],5:[function(e,f,c){function a(a,d){this.obj=d||{};this.el=a}c=e("emitter");var d=e("event");f.exports=function(d,h){return new a(d,h)};c(a.prototype);a.prototype.bind=function(){function a(e){b.onmouseup&&b.onmouseup(e);d.unbind(document,"mousemove",h);d.unbind(document,"mouseup",a);c.emit("up",e)}function h(a){b.onmousemove&&b.onmousemove(a);c.emit("move",a)}var b=this.obj,
c=this;c.down=function(e){b.onmousedown&&b.onmousedown(e);d.bind(document,"mouseup",a);d.bind(document,"mousemove",h);c.emit("down",e)};d.bind(this.el,"mousedown",c.down);return this};a.prototype.unbind=function(){d.unbind(this.el,"mousedown",this.down);this.down=null}},{emitter:2,event:9}],9:[function(e,f,c){var a=window.addEventListener?"addEventListener":"attachEvent",d=window.removeEventListener?"removeEventListener":"detachEvent",g="addEventListener"!==a?"on":"";c.bind=function(d,b,c,e){d[a](g+
b,c,e||!1);return c};c.unbind=function(a,b,c,e){a[d](g+b,c,e||!1);return c}},{}],7:[function(e,f,c){function a(b,d){if(!(this instanceof a))return new a(b,d);if(!b)throw Error("element required");if(!d)throw Error("object required");this.el=b;this.obj=d;this._events={}}function d(a){a=a.split(/ +/);return{name:a.shift(),selector:a.join(" ")}}var g=e("event"),h=e("delegate");f.exports=a;a.prototype.sub=function(a,d,g){this._events[a]=this._events[a]||{};this._events[a][d]=g};a.prototype.bind=function(a,
c){function e(){var a=[].slice.call(arguments).concat(r);n[c].apply(n,a)}var f=d(a),q=this.el,n=this.obj,p=f.name;c=c||"on"+p;var r=[].slice.call(arguments,2);f.selector?e=h.bind(q,f.selector,p,e):g.bind(q,p,e);this.sub(p,c,e);return e};a.prototype.unbind=function(a,d){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);var c=this._events[a];c&&(c=c[d])&&g.unbind(this.el,a,c)};a.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)};
a.prototype.unbindAllOf=function(a){var d=this._events[a];if(d)for(var c in d)this.unbind(a,c)}},{event:9,delegate:10}],10:[function(e,f,c){var a=e("closest"),d=e("event");c.bind=function(c,e,b,f,k){return d.bind(c,b,function(b){b.delegateTarget=a(b.target||b.srcElement,e,!0,c);b.delegateTarget&&f.call(c,b)},k)};c.unbind=function(a,c,b,e){d.unbind(a,c,b,e)}},{closest:11,event:9}],11:[function(e,f,c){var a=e("matches-selector");f.exports=function(d,c,e,b){d=e?{parentNode:d}:d;for(b=b||document;(d=
d.parentNode)&&d!==document;){if(a(d,c))return d;if(d===b)break}}},{"matches-selector":12}],12:[function(e,f,c){var a=e("query");e=Element.prototype;var d=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;f.exports=function(c,e){if(!c||1!==c.nodeType)return!1;if(d)return d.call(c,e);for(var b=a.all(e,c.parentNode),f=0;f<b.length;++f)if(b[f]==c)return!0;return!1}},{query:13}],13:[function(e,f,c){function a(a,c){return c.querySelector(a)}c=f.exports=function(d,
c){c=c||document;return a(d,c)};c.all=function(a,c){c=c||document;return c.querySelectorAll(a)};c.engine=function(d){if(!d.one)throw Error(".one callback required");if(!d.all)throw Error(".all callback required");a=d.one;c.all=d.all;return c}},{}],8:[function(e,f,c){var a=e("transform-property"),d=e("has-translate3d"),g=/%$/;f.exports=function(c,b,e){g.test(b)||(b+="px");g.test(e)||(e+="px");a?c.style[a]=d?"translate3d("+b+", "+e+", 0)":"translate("+b+","+e+")":(c.style.left=b,c.style.top=e)}},{"transform-property":14,
"has-translate3d":15}],14:[function(e,f,c){e=["webkitTransform","MozTransform","msTransform","OTransform","transform"];c=document.createElement("p");for(var a,d=0;d<e.length;d++)if(a=e[d],null!=c.style[a]){f.exports=a;break}},{}],15:[function(e,f,c){(c=e("transform-property"))&&window.getComputedStyle?(e=document.createElement("div"),e.style[c]="translate3d(1px,1px,1px)",document.body.insertBefore(e,null),c=getComputedStyle(e).getPropertyValue({webkitTransform:"-webkit-transform",OTransform:"-o-transform",
msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"}[c]),document.body.removeChild(e),f.exports=null!=c&&c.length&&"none"!=c):f.exports=!1},{"transform-property":14}]},{},{1:"draggable-dialog"});
