(function(){function c(h){var d=c.modules[h];if(!d)throw Error('failed to require "'+h+'"');"exports"in d||"function"!==typeof d.definition||(d.client=d.component=!0,d.definition.call(this,d.exports={},d),delete d.definition);return d.exports}c.modules={};c.register=function(h,d){c.modules[h]={definition:d}};c.define=function(h,d){c.modules[h]={exports:d}};c.register("component~emitter@1.1.3",function(c,d){function a(b){if(b){for(var f in a.prototype)b[f]=a.prototype[f];return b}}d.exports=a;a.prototype.on=
a.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(a);return this};a.prototype.once=function(a,f){function g(){e.off(a,g);f.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};g.fn=f;this.on(a,g);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,f){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var g=this._callbacks[a];if(!g)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,k=0;k<g.length;k++)if(e=g[k],e===f||e.fn===f){g.splice(k,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var f=[].slice.call(arguments,1),g=this._callbacks[a];if(g)for(var g=g.slice(0),e=0,k=g.length;e<k;++e)g[e].apply(this,f);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};
a.prototype.hasListeners=function(a){return!!this.listeners(a).length}});c.register("component~indexof@0.0.3",function(c,d){d.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var f=0;f<a.length;++f)if(a[f]===b)return f;return-1}});c.register("component~classes@1.2.1",function(h,d){function a(e){if(!e)throw Error("A DOM element reference is required");this.el=e;this.list=e.classList}var b=c("component~indexof@0.0.3"),f=/\s+/,g=Object.prototype.toString;d.exports=function(e){return new a(e)};
a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var a=this.array();~b(a,e)||a.push(e);this.el.className=a.join(" ");return this};a.prototype.remove=function(e){if("[object RegExp]"==g.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var a=this.array();e=b(a,e);~e&&a.splice(e,1);this.el.className=a.join(" ");return this};a.prototype.removeMatching=function(e){for(var a=this.array(),b=0;b<a.length;b++)e.test(a[b])&&this.remove(a[b]);return this};
a.prototype.toggle=function(a,b){if(this.list)return"undefined"!==typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this;"undefined"!==typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a);return this};a.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,"").split(f);""===a[0]&&a.shift();return a};a.prototype.has=a.prototype.contains=function(a){return this.list?this.list.contains(a):!!~b(this.array(),a)}});c.register("component~event@0.1.4",
function(c,d){var a=window.addEventListener?"addEventListener":"attachEvent",b=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==a?"on":"";c.bind=function(b,e,k,l){b[a](f+e,k,l||!1);return k};c.unbind=function(a,e,k,l){a[b](f+e,k,l||!1);return k}});c.register("ui-component~mouse@0.0.1",function(h,d){function a(a,e){this.obj=e||{};this.el=a}var b=c("component~emitter@1.1.3"),f=c("component~event@0.1.4");d.exports=function(b,e){return new a(b,e)};b(a.prototype);a.prototype.bind=
function(){function a(c){b.onmouseup&&b.onmouseup(c);f.unbind(document,"mousemove",e);f.unbind(document,"mouseup",a);l.emit("up",c)}function e(a){b.onmousemove&&b.onmousemove(a);l.emit("move",a)}var b=this.obj,l=this;l.down=function(c){b.onmousedown&&b.onmousedown(c);f.bind(document,"mouseup",a);f.bind(document,"mousemove",e);l.emit("down",c)};f.bind(this.el,"mousedown",l.down);return this};a.prototype.unbind=function(){f.unbind(this.el,"mousedown",this.down);this.down=null}});c.register("component~query@0.0.3",
function(c,d){function a(a,f){return f.querySelector(a)}c=d.exports=function(b,f){f=f||document;return a(b,f)};c.all=function(a,f){f=f||document;return f.querySelectorAll(a)};c.engine=function(b){if(!b.one)throw Error(".one callback required");if(!b.all)throw Error(".all callback required");a=b.one;c.all=b.all;return c}});c.register("component~matches-selector@0.1.5",function(h,d){var a=c("component~query@0.0.3"),b=Element.prototype,f=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||
b.oMatchesSelector;d.exports=function(b,e){if(!b||1!==b.nodeType)return!1;if(f)return f.call(b,e);for(var c=a.all(e,b.parentNode),l=0;l<c.length;++l)if(c[l]==b)return!0;return!1}});c.register("discore~closest@0.1.3",function(h,d){var a=c("component~matches-selector@0.1.5");d.exports=function(b,c,d,e){b=d?{parentNode:b}:b;for(e=e||document;(b=b.parentNode)&&b!==document;){if(a(b,c))return b;if(b===e)break}}});c.register("component~delegate@0.2.2",function(h,d){var a=c("discore~closest@0.1.3"),b=c("component~event@0.1.4");
h.bind=function(c,d,e,k,l){return b.bind(c,e,function(b){b.delegateTarget=a(b.target||b.srcElement,d,!0,c);b.delegateTarget&&k.call(c,b)},l)};h.unbind=function(a,c,e,k){b.unbind(a,c,e,k)}});c.register("component~events@1.0.8",function(h,d){function a(b,c){if(!(this instanceof a))return new a(b,c);if(!b)throw Error("element required");if(!c)throw Error("object required");this.el=b;this.obj=c;this._events={}}function b(a){a=a.split(/ +/);return{name:a.shift(),selector:a.join(" ")}}var f=c("component~event@0.1.4"),
g=c("component~delegate@0.2.2");d.exports=a;a.prototype.sub=function(a,b,c){this._events[a]=this._events[a]||{};this._events[a][b]=c};a.prototype.bind=function(a,c){function l(){var a=[].slice.call(arguments).concat(p);n[c].apply(n,a)}var d=b(a),h=this.el,n=this.obj,m=d.name;c=c||"on"+m;var p=[].slice.call(arguments,2);d.selector?l=g.bind(h,d.selector,m,l):f.bind(h,m,l);this.sub(m,c,l);return l};a.prototype.unbind=function(a,b){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);
var c=this._events[a];c&&(c=c[b])&&f.unbind(this.el,a,c)};a.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)};a.prototype.unbindAllOf=function(a){var b=this._events[a];if(b)for(var c in b)this.unbind(a,c)}});c.register("component~transform-property@0.0.1",function(c,d){for(var a=["webkitTransform","MozTransform","msTransform","OTransform","transform"],b=document.createElement("p"),f,g=0;g<a.length;g++)if(f=a[g],null!=b.style[f]){d.exports=f;break}});c.register("component~has-translate3d@0.0.3",
function(h,d){var a=c("component~transform-property@0.0.1");if(a&&window.getComputedStyle){var b=document.createElement("div");b.style[a]="translate3d(1px,1px,1px)";document.body.insertBefore(b,null);a=getComputedStyle(b).getPropertyValue({webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"}[a]);document.body.removeChild(b);d.exports=null!=a&&a.length&&"none"!=a}else d.exports=!1});c.register("component~translate@0.1.0",
function(h,d){var a=c("component~transform-property@0.0.1"),b=c("component~has-translate3d@0.0.3"),f=/%$/;d.exports=function(c,e,d){f.test(e)||(e+="px");f.test(d)||(d+="px");a?c.style[a]=b?"translate3d("+e+", "+d+", 0)":"translate("+e+","+d+")":(c.style.left=e,c.style.top=d)}});c.register("staygrimm~draggable@d52947b",function(h,d){function a(a){this._yAxis=this._xAxis=!0;this.el=a}var b=c("component~emitter@1.1.3"),f=c("ui-component~mouse@0.0.1"),g=c("component~events@1.0.8"),e=c("component~translate@0.1.0"),
k=c("component~classes@1.2.1");d.exports=function(b){return new a(b)};b(a.prototype);a.prototype.build=function(){var a=this._handle||this.el;this.touch=g(a,this);this.touch.bind("touchstart","onmousedown");this.touch.bind("touchmove","onmousemove");this.touch.bind("touchend","onmouseup");this.mouse=f(a,this);this.mouse.bind();return this};a.prototype.onmousedown=function(a){a.preventDefault();a.touches&&(a=a.touches[0]);var b=this.rect=this.el.getBoundingClientRect();this.ox=b.left-this.el.offsetLeft;
this.oy=b.top-this.el.offsetTop;this.x=a.pageX-b.left;this.y=a.pageY-b.top;k(this.el).add("dragging");this.emit("start")};a.prototype.onmousemove=function(a){var b,c,d,f,g;a.touches&&(a=a.touches[0]);var k=this._xAxis?a.pageX-this.el.offsetLeft-this.x:this.ox,h=this._yAxis?a.pageY-this.el.offsetTop-this.y:this.oy;g=this.el;if(d=this._containment)a=h+g.clientHeight,b=k+g.clientWidth,c=d.clientHeight,d=d.clientWidth,f=c-g.clientHeight,g=d-g.clientWidth,0>=k&&(k=0),0>=h&&(h=0),a>=c&&(h=f),b>=d&&(k=g);
e(this.el,k,h);this.emit("drag")};a.prototype.onmouseup=function(a){k(this.el).remove("dragging");this.emit("end")};a.prototype.destroy=function(){this.mouse&&this.mouse.unbind();this.mouse=null;this.touch&&this.touch.unbind();this.touch=null;return this};a.prototype.disableXAxis=function(){this._xAxis=!1;return this};a.prototype.disableYAxis=function(){this._yAxis=!1;return this};a.prototype.containment=function(a){this._containment=a;return this};a.prototype.handle=function(a){this._handle=a;return this}});
c.register("draggable-dialog",function(h,d){var a=c("component~emitter@1.1.3"),b=c("component~classes@1.2.1"),f=c("staygrimm~draggable@d52947b"),g,e;e=function(){this.hide()};g=function(a,c){this.options=c||{};this.nodes={};this.el=a;this.el.tagName&&b(a).add("DraggableDialog--hidden");this.render()};a(g.prototype);g.prototype.render=function(){var a=this,c;this.docFragment=document.createDocumentFragment();this.nodes.containerDiv=document.createElement("div");this.nodes.titleClose=document.createElement("a");
this.nodes.titleDiv=this.nodes.containerDiv.cloneNode();this.nodes.contentDiv=this.nodes.containerDiv.cloneNode();this.nodes.titleClose.innerHTML="&times;<em>close</em>";"string"===typeof this.el?this.nodes.contentDiv.innerHTML=this.el:(c=this.el.cloneNode(!0),b(c).remove("DraggableDialog--hidden"),this.nodes.contentDiv.appendChild(c));this.options.title&&(this.nodes.titleSpan=document.createElement("span"),this.nodes.titleSpan.innerHTML=this.options.title,b(this.nodes.titleSpan).add("DraggableDialog-title"),
this.nodes.titleDiv.appendChild(this.nodes.titleSpan));this.nodes.titleDiv.appendChild(this.nodes.titleClose);this.nodes.containerDiv.appendChild(this.nodes.titleDiv);this.nodes.containerDiv.appendChild(this.nodes.contentDiv);this.docFragment.appendChild(this.nodes.containerDiv);b(this.nodes.containerDiv).add("DraggableDialog").add("DraggableDialog--hidden");b(this.nodes.titleDiv).add("DraggableDialog-titleBar");b(this.nodes.titleClose).add("DraggableDialog-closeButton");b(this.nodes.contentDiv).add("DraggableDialog-content");
this.nodes.titleClose.addEventListener("click",e.bind(a),!1);this.draggable=f(this.nodes.containerDiv);this.draggable.on("drag",function(){a.emit("drag")});this.draggable.on("start",function(){a.emit("start")});this.draggable.on("end",function(){a.emit("end")});this.draggable.build()};g.prototype.show=function(){document.body.appendChild(this.docFragment);b(this.nodes.containerDiv).remove("DraggableDialog--hidden");this.emit("show")};g.prototype.hide=function(){b(this.nodes.containerDiv).add("DraggableDialog--hidden");
this.emit("hide")};g.prototype.remove=function(){this.draggable&&this.draggable.destroy();this.nodes.titleClose.removeEventListener("click",e.bind(self),!1);this.nodes.containerDiv.parentNode.removeChild(this.nodes.containerDiv);this.emit("remove")};d.exports=function(a,b){return new g(a,b)}});"object"==typeof exports?module.exports=c("draggable-dialog"):"function"==typeof define&&define.amd?define([],function(){return c("draggable-dialog")}):this.draggableDialog=c("draggable-dialog")})();
