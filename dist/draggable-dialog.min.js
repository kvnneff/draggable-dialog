(function(){function b(h){var e=b.modules[h];if(!e)throw Error('failed to require "'+h+'"');"exports"in e||"function"!==typeof e.definition||(e.client=e.component=!0,e.definition.call(this,e.exports={},e),delete e.definition);return e.exports}b.modules={};b.register=function(h,e){b.modules[h]={definition:e}};b.define=function(h,e){b.modules[h]={exports:e}};b.register("component~emitter@1.1.3",function(b,e){function a(c){if(c){for(var f in a.prototype)c[f]=a.prototype[f];return c}}e.exports=a;a.prototype.on=
a.prototype.addEventListener=function(c,a){this._callbacks=this._callbacks||{};(this._callbacks[c]=this._callbacks[c]||[]).push(a);return this};a.prototype.once=function(c,a){function g(){d.off(c,g);a.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};g.fn=a;this.on(c,g);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,f){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var g=this._callbacks[a];if(!g)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,k=0;k<g.length;k++)if(d=g[k],d===f||d.fn===f){g.splice(k,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var f=[].slice.call(arguments,1),g=this._callbacks[a];if(g)for(var g=g.slice(0),d=0,k=g.length;d<k;++d)g[d].apply(this,f);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};
a.prototype.hasListeners=function(a){return!!this.listeners(a).length}});b.register("component~indexof@0.0.3",function(b,e){e.exports=function(a,c){if(a.indexOf)return a.indexOf(c);for(var f=0;f<a.length;++f)if(a[f]===c)return f;return-1}});b.register("component~classes@1.2.1",function(h,e){function a(d){if(!d)throw Error("A DOM element reference is required");this.el=d;this.list=d.classList}var c=b("component~indexof@0.0.3"),f=/\s+/,g=Object.prototype.toString;e.exports=function(d){return new a(d)};
a.prototype.add=function(d){if(this.list)return this.list.add(d),this;var a=this.array();~c(a,d)||a.push(d);this.el.className=a.join(" ");return this};a.prototype.remove=function(d){if("[object RegExp]"==g.call(d))return this.removeMatching(d);if(this.list)return this.list.remove(d),this;var a=this.array();d=c(a,d);~d&&a.splice(d,1);this.el.className=a.join(" ");return this};a.prototype.removeMatching=function(d){for(var a=this.array(),c=0;c<a.length;c++)d.test(a[c])&&this.remove(a[c]);return this};
a.prototype.toggle=function(d,a){if(this.list)return"undefined"!==typeof a?a!==this.list.toggle(d,a)&&this.list.toggle(d):this.list.toggle(d),this;"undefined"!==typeof a?a?this.add(d):this.remove(d):this.has(d)?this.remove(d):this.add(d);return this};a.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,"").split(f);""===a[0]&&a.shift();return a};a.prototype.has=a.prototype.contains=function(a){return this.list?this.list.contains(a):!!~c(this.array(),a)}});b.register("component~event@0.1.4",
function(b,e){var a=window.addEventListener?"addEventListener":"attachEvent",c=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==a?"on":"";b.bind=function(c,d,k,l){c[a](f+d,k,l||!1);return k};b.unbind=function(a,d,k,l){a[c](f+d,k,l||!1);return k}});b.register("ui-component~mouse@0.0.1",function(h,e){function a(a,d){this.obj=d||{};this.el=a}var c=b("component~emitter@1.1.3"),f=b("component~event@0.1.4");e.exports=function(c,d){return new a(c,d)};c(a.prototype);a.prototype.bind=
function(){function a(b){c.onmouseup&&c.onmouseup(b);f.unbind(document,"mousemove",d);f.unbind(document,"mouseup",a);l.emit("up",b)}function d(a){c.onmousemove&&c.onmousemove(a);l.emit("move",a)}var c=this.obj,l=this;l.down=function(b){c.onmousedown&&c.onmousedown(b);f.bind(document,"mouseup",a);f.bind(document,"mousemove",d);l.emit("down",b)};f.bind(this.el,"mousedown",l.down);return this};a.prototype.unbind=function(){f.unbind(this.el,"mousedown",this.down);this.down=null}});b.register("component~query@0.0.3",
function(b,e){function a(a,b){return b.querySelector(a)}b=e.exports=function(c,b){b=b||document;return a(c,b)};b.all=function(a,b){b=b||document;return b.querySelectorAll(a)};b.engine=function(c){if(!c.one)throw Error(".one callback required");if(!c.all)throw Error(".all callback required");a=c.one;b.all=c.all;return b}});b.register("component~matches-selector@0.1.5",function(h,e){var a=b("component~query@0.0.3"),c=Element.prototype,f=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||
c.oMatchesSelector;e.exports=function(c,d){if(!c||1!==c.nodeType)return!1;if(f)return f.call(c,d);for(var b=a.all(d,c.parentNode),l=0;l<b.length;++l)if(b[l]==c)return!0;return!1}});b.register("discore~closest@0.1.3",function(h,e){var a=b("component~matches-selector@0.1.5");e.exports=function(c,b,e,d){c=e?{parentNode:c}:c;for(d=d||document;(c=c.parentNode)&&c!==document;){if(a(c,b))return c;if(c===d)break}}});b.register("component~delegate@0.2.2",function(h,e){var a=b("discore~closest@0.1.3"),c=b("component~event@0.1.4");
h.bind=function(b,e,d,k,l){return c.bind(b,d,function(d){d.delegateTarget=a(d.target||d.srcElement,e,!0,b);d.delegateTarget&&k.call(b,d)},l)};h.unbind=function(a,b,d,e){c.unbind(a,b,d,e)}});b.register("component~events@1.0.8",function(h,e){function a(d,c){if(!(this instanceof a))return new a(d,c);if(!d)throw Error("element required");if(!c)throw Error("object required");this.el=d;this.obj=c;this._events={}}function c(a){a=a.split(/ +/);return{name:a.shift(),selector:a.join(" ")}}var f=b("component~event@0.1.4"),
g=b("component~delegate@0.2.2");e.exports=a;a.prototype.sub=function(a,c,b){this._events[a]=this._events[a]||{};this._events[a][c]=b};a.prototype.bind=function(a,b){function l(){var a=[].slice.call(arguments).concat(p);n[b].apply(n,a)}var e=c(a),h=this.el,n=this.obj,m=e.name;b=b||"on"+m;var p=[].slice.call(arguments,2);e.selector?l=g.bind(h,e.selector,m,l):f.bind(h,m,l);this.sub(m,b,l);return l};a.prototype.unbind=function(a,c){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);
var b=this._events[a];b&&(b=b[c])&&f.unbind(this.el,a,b)};a.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)};a.prototype.unbindAllOf=function(a){var c=this._events[a];if(c)for(var b in c)this.unbind(a,b)}});b.register("component~transform-property@0.0.1",function(b,e){for(var a=["webkitTransform","MozTransform","msTransform","OTransform","transform"],c=document.createElement("p"),f,g=0;g<a.length;g++)if(f=a[g],null!=c.style[f]){e.exports=f;break}});b.register("component~has-translate3d@0.0.3",
function(h,e){var a=b("component~transform-property@0.0.1");if(a&&window.getComputedStyle){var c=document.createElement("div");c.style[a]="translate3d(1px,1px,1px)";document.body.insertBefore(c,null);a=getComputedStyle(c).getPropertyValue({webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"}[a]);document.body.removeChild(c);e.exports=null!=a&&a.length&&"none"!=a}else e.exports=!1});b.register("component~translate@0.1.0",
function(h,e){var a=b("component~transform-property@0.0.1"),c=b("component~has-translate3d@0.0.3"),f=/%$/;e.exports=function(b,d,e){f.test(d)||(d+="px");f.test(e)||(e+="px");a?b.style[a]=c?"translate3d("+d+", "+e+", 0)":"translate("+d+","+e+")":(b.style.left=d,b.style.top=e)}});b.register("staygrimm~draggable@e64f23d",function(h,e){function a(a,c){this._yAxis=this._xAxis=!0;this.el=a;this.options=c}var c=b("component~emitter@1.1.3"),f=b("ui-component~mouse@0.0.1"),g=b("component~events@1.0.8"),d=
b("component~translate@0.1.0"),k=b("component~classes@1.2.1");e.exports=function(c,b){b=b||{};return new a(c,b)};c(a.prototype);a.prototype.build=function(){var a=this._handle||this.el;this.touch=g(a,this);this.touch.bind("touchstart","onmousedown");this.touch.bind("touchmove","onmousemove");this.touch.bind("touchend","onmouseup");this.mouse=f(a,this);this.mouse.bind();return this};a.prototype.onmousedown=function(a){a.preventDefault();a.touches&&(a=a.touches[0]);var c=this.rect=this.el.getBoundingClientRect();
this.ox=c.left-this.el.offsetLeft;this.oy=c.top-this.el.offsetTop;this.x=a.pageX-c.left;this.y=a.pageY-c.top;k(this.el).add("dragging");this.emit("start")};a.prototype.onmousemove=function(a){var c,b,e,f,g;a.touches&&(a=a.touches[0]);var h=this._xAxis?a.pageX-this.el.offsetLeft-this.x:this.ox,k=this._yAxis?a.pageY-this.el.offsetTop-this.y:this.oy;g=this.el;if(e=this._containment)a=k+g.clientHeight,c=h+g.clientWidth,b=e.clientHeight,e=e.clientWidth,f=b-g.clientHeight,g=e-g.clientWidth,0>=h&&(h=0),
0>=k&&(k=0),a>=b&&(k=f),c>=e&&(h=g);this.options.roundPixels&&!0===this.options.roundPixels&&(h=Math.floor(h),k=Math.floor(k));d(this.el,h,k);this.emit("drag")};a.prototype.onmouseup=function(a){k(this.el).remove("dragging");this.emit("end")};a.prototype.destroy=function(){this.mouse&&this.mouse.unbind();this.mouse=null;this.touch&&this.touch.unbind();this.touch=null;return this};a.prototype.disableXAxis=function(){this._xAxis=!1;return this};a.prototype.disableYAxis=function(){this._yAxis=!1;return this};
a.prototype.containment=function(a){this._containment=a;return this};a.prototype.handle=function(a){this._handle=a;return this}});b.register("draggable-dialog",function(h,e){var a=b("component~emitter@1.1.3"),c=b("component~classes@1.2.1"),f=b("staygrimm~draggable@e64f23d"),g=b("ui-component~mouse@0.0.1"),d,k;k=function(){this.hide()};d=function(a,b){this.options=b||{};this.nodes={};this.el=a;this.el.tagName&&c(a).add("DraggableDialog--hidden");this.render()};a(d.prototype);d.prototype.render=function(){var a=
this;this.docFragment=document.createDocumentFragment();this.nodes.containerDiv=document.createElement("div");this.nodes.titleClose=document.createElement("a");this.nodes.titleDiv=this.nodes.containerDiv.cloneNode();this.nodes.contentDiv=this.nodes.containerDiv.cloneNode();this.nodes.titleClose.innerHTML="&times;<em>close</em>";"string"===typeof this.el?this.nodes.contentDiv.innerHTML=this.el:(c(this.el).remove("DraggableDialog--hidden"),this.nodes.contentDiv.appendChild(this.el));this.options.title&&
(this.nodes.titleSpan=document.createElement("span"),this.nodes.titleSpan.innerHTML=this.options.title,c(this.nodes.titleSpan).add("DraggableDialog-title"),this.nodes.titleDiv.appendChild(this.nodes.titleSpan));this.nodes.titleDiv.appendChild(this.nodes.titleClose);this.nodes.containerDiv.appendChild(this.nodes.titleDiv);this.nodes.containerDiv.appendChild(this.nodes.contentDiv);this.docFragment.appendChild(this.nodes.containerDiv);c(this.nodes.containerDiv).add("DraggableDialog").add("DraggableDialog--hidden");
c(this.nodes.titleDiv).add("DraggableDialog-titleBar");c(this.nodes.titleClose).add("DraggableDialog-closeButton");c(this.nodes.contentDiv).add("DraggableDialog-content");this.nodes.titleClose.addEventListener("click",k.bind(a),!1);this.mouse=g(this.nodes.containerDiv,this);this.mouse.bind();this.draggable=f(this.nodes.containerDiv,{roundPixels:!0});this.options.title&&this.draggable.handle(this.nodes.titleDiv);this.draggable.on("drag",function(){a.emit("drag")});this.draggable.on("start",function(){a.emit("start")});
this.draggable.on("end",function(){a.emit("end")});this.draggable.build()};d.prototype.show=function(){document.body.appendChild(this.docFragment);c(this.nodes.containerDiv).remove("DraggableDialog--hidden");this.emit("show")};d.prototype.hide=function(){c(this.nodes.containerDiv).add("DraggableDialog--hidden");this.emit("hide")};d.prototype.remove=function(){this.draggable&&this.draggable.destroy();this.nodes.titleClose.removeEventListener("click",k.bind(self),!1);this.nodes.containerDiv.parentNode.removeChild(this.nodes.containerDiv);
this.emit("remove")};d.prototype.onmousedown=function(){var a=document.getElementsByClassName("DraggableDialog"),b=[],b=Array.prototype.slice.call(a);for(i=b.length;i--;)b[i].style.zIndex=999,c(b[i]).add("DraggableDialog--inactive");c(this.nodes.containerDiv).remove("DraggableDialog--inactive").add("DraggableDialog--active");this.nodes.containerDiv.style.zIndex=1E3;this.emit("click")};e.exports=function(a,b){return new d(a,b)}});"object"==typeof exports?module.exports=b("draggable-dialog"):"function"==
typeof define&&define.amd?define([],function(){return b("draggable-dialog")}):this.draggableDialog=b("draggable-dialog")})();
