(function(){function c(h){var e=c.modules[h];if(!e)throw Error('failed to require "'+h+'"');"exports"in e||"function"!==typeof e.definition||(e.client=e.component=!0,e.definition.call(this,e.exports={},e),delete e.definition);return e.exports}c.modules={};c.register=function(h,e){c.modules[h]={definition:e}};c.define=function(h,e){c.modules[h]={exports:e}};c.register("component~emitter@1.1.3",function(c,e){function a(b){if(b){for(var f in a.prototype)b[f]=a.prototype[f];return b}}e.exports=a;a.prototype.on=
a.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(a);return this};a.prototype.once=function(b,a){function g(){d.off(b,g);a.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};g.fn=a;this.on(b,g);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,f){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var g=this._callbacks[a];if(!g)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,k=0;k<g.length;k++)if(d=g[k],d===f||d.fn===f){g.splice(k,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var f=[].slice.call(arguments,1),g=this._callbacks[a];if(g)for(var g=g.slice(0),d=0,k=g.length;d<k;++d)g[d].apply(this,f);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};
a.prototype.hasListeners=function(a){return!!this.listeners(a).length}});c.register("component~indexof@0.0.3",function(c,e){e.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var f=0;f<a.length;++f)if(a[f]===b)return f;return-1}});c.register("component~classes@1.2.1",function(h,e){function a(d){if(!d)throw Error("A DOM element reference is required");this.el=d;this.list=d.classList}var b=c("component~indexof@0.0.3"),f=/\s+/,g=Object.prototype.toString;e.exports=function(d){return new a(d)};
a.prototype.add=function(d){if(this.list)return this.list.add(d),this;var a=this.array();~b(a,d)||a.push(d);this.el.className=a.join(" ");return this};a.prototype.remove=function(d){if("[object RegExp]"==g.call(d))return this.removeMatching(d);if(this.list)return this.list.remove(d),this;var a=this.array();d=b(a,d);~d&&a.splice(d,1);this.el.className=a.join(" ");return this};a.prototype.removeMatching=function(d){for(var a=this.array(),b=0;b<a.length;b++)d.test(a[b])&&this.remove(a[b]);return this};
a.prototype.toggle=function(d,a){if(this.list)return"undefined"!==typeof a?a!==this.list.toggle(d,a)&&this.list.toggle(d):this.list.toggle(d),this;"undefined"!==typeof a?a?this.add(d):this.remove(d):this.has(d)?this.remove(d):this.add(d);return this};a.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,"").split(f);""===a[0]&&a.shift();return a};a.prototype.has=a.prototype.contains=function(a){return this.list?this.list.contains(a):!!~b(this.array(),a)}});c.register("component~event@0.1.4",
function(c,e){var a=window.addEventListener?"addEventListener":"attachEvent",b=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==a?"on":"";c.bind=function(b,d,k,l){b[a](f+d,k,l||!1);return k};c.unbind=function(a,d,k,l){a[b](f+d,k,l||!1);return k}});c.register("ui-component~mouse@0.0.1",function(h,e){function a(a,d){this.obj=d||{};this.el=a}var b=c("component~emitter@1.1.3"),f=c("component~event@0.1.4");e.exports=function(b,d){return new a(b,d)};b(a.prototype);a.prototype.bind=
function(){function a(c){b.onmouseup&&b.onmouseup(c);f.unbind(document,"mousemove",d);f.unbind(document,"mouseup",a);l.emit("up",c)}function d(a){b.onmousemove&&b.onmousemove(a);l.emit("move",a)}var b=this.obj,l=this;l.down=function(c){b.onmousedown&&b.onmousedown(c);f.bind(document,"mouseup",a);f.bind(document,"mousemove",d);l.emit("down",c)};f.bind(this.el,"mousedown",l.down);return this};a.prototype.unbind=function(){f.unbind(this.el,"mousedown",this.down);this.down=null}});c.register("component~query@0.0.3",
function(c,e){function a(a,c){return c.querySelector(a)}c=e.exports=function(b,c){c=c||document;return a(b,c)};c.all=function(a,c){c=c||document;return c.querySelectorAll(a)};c.engine=function(b){if(!b.one)throw Error(".one callback required");if(!b.all)throw Error(".all callback required");a=b.one;c.all=b.all;return c}});c.register("component~matches-selector@0.1.5",function(h,e){var a=c("component~query@0.0.3"),b=Element.prototype,f=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||
b.oMatchesSelector;e.exports=function(b,d){if(!b||1!==b.nodeType)return!1;if(f)return f.call(b,d);for(var c=a.all(d,b.parentNode),l=0;l<c.length;++l)if(c[l]==b)return!0;return!1}});c.register("discore~closest@0.1.3",function(h,e){var a=c("component~matches-selector@0.1.5");e.exports=function(b,c,e,d){b=e?{parentNode:b}:b;for(d=d||document;(b=b.parentNode)&&b!==document;){if(a(b,c))return b;if(b===d)break}}});c.register("component~delegate@0.2.2",function(h,e){var a=c("discore~closest@0.1.3"),b=c("component~event@0.1.4");
h.bind=function(c,e,d,k,l){return b.bind(c,d,function(d){d.delegateTarget=a(d.target||d.srcElement,e,!0,c);d.delegateTarget&&k.call(c,d)},l)};h.unbind=function(a,c,d,e){b.unbind(a,c,d,e)}});c.register("component~events@1.0.8",function(h,e){function a(d,b){if(!(this instanceof a))return new a(d,b);if(!d)throw Error("element required");if(!b)throw Error("object required");this.el=d;this.obj=b;this._events={}}function b(a){a=a.split(/ +/);return{name:a.shift(),selector:a.join(" ")}}var f=c("component~event@0.1.4"),
g=c("component~delegate@0.2.2");e.exports=a;a.prototype.sub=function(a,b,c){this._events[a]=this._events[a]||{};this._events[a][b]=c};a.prototype.bind=function(a,c){function l(){var a=[].slice.call(arguments).concat(p);n[c].apply(n,a)}var e=b(a),h=this.el,n=this.obj,m=e.name;c=c||"on"+m;var p=[].slice.call(arguments,2);e.selector?l=g.bind(h,e.selector,m,l):f.bind(h,m,l);this.sub(m,c,l);return l};a.prototype.unbind=function(a,b){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);
var c=this._events[a];c&&(c=c[b])&&f.unbind(this.el,a,c)};a.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)};a.prototype.unbindAllOf=function(a){var b=this._events[a];if(b)for(var c in b)this.unbind(a,c)}});c.register("component~transform-property@0.0.1",function(c,e){for(var a=["webkitTransform","MozTransform","msTransform","OTransform","transform"],b=document.createElement("p"),f,g=0;g<a.length;g++)if(f=a[g],null!=b.style[f]){e.exports=f;break}});c.register("component~has-translate3d@0.0.3",
function(h,e){var a=c("component~transform-property@0.0.1");if(a&&window.getComputedStyle){var b=document.createElement("div");b.style[a]="translate3d(1px,1px,1px)";document.body.insertBefore(b,null);a=getComputedStyle(b).getPropertyValue({webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"}[a]);document.body.removeChild(b);e.exports=null!=a&&a.length&&"none"!=a}else e.exports=!1});c.register("component~translate@0.1.0",
function(h,e){var a=c("component~transform-property@0.0.1"),b=c("component~has-translate3d@0.0.3"),f=/%$/;e.exports=function(c,d,e){f.test(d)||(d+="px");f.test(e)||(e+="px");a?c.style[a]=b?"translate3d("+d+", "+e+", 0)":"translate("+d+","+e+")":(c.style.left=d,c.style.top=e)}});c.register("staygrimm~draggable@d52947b",function(h,e){function a(a){this._yAxis=this._xAxis=!0;this.el=a}var b=c("component~emitter@1.1.3"),f=c("ui-component~mouse@0.0.1"),g=c("component~events@1.0.8"),d=c("component~translate@0.1.0"),
k=c("component~classes@1.2.1");e.exports=function(b){return new a(b)};b(a.prototype);a.prototype.build=function(){var a=this._handle||this.el;this.touch=g(a,this);this.touch.bind("touchstart","onmousedown");this.touch.bind("touchmove","onmousemove");this.touch.bind("touchend","onmouseup");this.mouse=f(a,this);this.mouse.bind();return this};a.prototype.onmousedown=function(a){a.preventDefault();a.touches&&(a=a.touches[0]);var b=this.rect=this.el.getBoundingClientRect();this.ox=b.left-this.el.offsetLeft;
this.oy=b.top-this.el.offsetTop;this.x=a.pageX-b.left;this.y=a.pageY-b.top;k(this.el).add("dragging");this.emit("start")};a.prototype.onmousemove=function(a){var b,c,e,f,g;a.touches&&(a=a.touches[0]);var h=this._xAxis?a.pageX-this.el.offsetLeft-this.x:this.ox,k=this._yAxis?a.pageY-this.el.offsetTop-this.y:this.oy;g=this.el;if(e=this._containment)a=k+g.clientHeight,b=h+g.clientWidth,c=e.clientHeight,e=e.clientWidth,f=c-g.clientHeight,g=e-g.clientWidth,0>=h&&(h=0),0>=k&&(k=0),a>=c&&(k=f),b>=e&&(h=g);
d(this.el,h,k);this.emit("drag")};a.prototype.onmouseup=function(a){k(this.el).remove("dragging");this.emit("end")};a.prototype.destroy=function(){this.mouse&&this.mouse.unbind();this.mouse=null;this.touch&&this.touch.unbind();this.touch=null;return this};a.prototype.disableXAxis=function(){this._xAxis=!1;return this};a.prototype.disableYAxis=function(){this._yAxis=!1;return this};a.prototype.containment=function(a){this._containment=a;return this};a.prototype.handle=function(a){this._handle=a;return this}});
c.register("draggable-dialog",function(h,e){var a=c("component~emitter@1.1.3"),b=c("component~classes@1.2.1"),f=c("staygrimm~draggable@d52947b"),g=c("ui-component~mouse@0.0.1"),d,k;k=function(){this.hide()};d=function(a,c){this.options=c||{};this.nodes={};this.el=a;this.el.tagName&&b(a).add("DraggableDialog--hidden");this.render()};a(d.prototype);d.prototype.render=function(){var a=this;this.docFragment=document.createDocumentFragment();this.nodes.containerDiv=document.createElement("div");this.nodes.titleClose=
document.createElement("a");this.nodes.titleDiv=this.nodes.containerDiv.cloneNode();this.nodes.contentDiv=this.nodes.containerDiv.cloneNode();this.nodes.titleClose.innerHTML="&times;<em>close</em>";"string"===typeof this.el?this.nodes.contentDiv.innerHTML=this.el:(b(this.el).remove("DraggableDialog--hidden"),this.nodes.contentDiv.appendChild(this.el));this.options.title&&(this.nodes.titleSpan=document.createElement("span"),this.nodes.titleSpan.innerHTML=this.options.title,b(this.nodes.titleSpan).add("DraggableDialog-title"),
this.nodes.titleDiv.appendChild(this.nodes.titleSpan));this.nodes.titleDiv.appendChild(this.nodes.titleClose);this.nodes.containerDiv.appendChild(this.nodes.titleDiv);this.nodes.containerDiv.appendChild(this.nodes.contentDiv);this.docFragment.appendChild(this.nodes.containerDiv);b(this.nodes.containerDiv).add("DraggableDialog").add("DraggableDialog--hidden");b(this.nodes.titleDiv).add("DraggableDialog-titleBar");b(this.nodes.titleClose).add("DraggableDialog-closeButton");b(this.nodes.contentDiv).add("DraggableDialog-content");
this.nodes.titleClose.addEventListener("click",k.bind(a),!1);this.mouse=g(this.nodes.containerDiv,this);this.mouse.bind();this.draggable=f(this.nodes.containerDiv);this.options.title&&this.draggable.handle(this.nodes.titleDiv);this.draggable.on("drag",function(){a.emit("drag")});this.draggable.on("start",function(){a.emit("start")});this.draggable.on("end",function(){a.emit("end")});this.draggable.build()};d.prototype.show=function(){document.body.appendChild(this.docFragment);b(this.nodes.containerDiv).remove("DraggableDialog--hidden");
this.emit("show")};d.prototype.hide=function(){b(this.nodes.containerDiv).add("DraggableDialog--hidden");this.emit("hide")};d.prototype.remove=function(){this.draggable&&this.draggable.destroy();this.nodes.titleClose.removeEventListener("click",k.bind(self),!1);this.nodes.containerDiv.parentNode.removeChild(this.nodes.containerDiv);this.emit("remove")};d.prototype.onmousedown=function(){var a=document.getElementsByClassName("DraggableDialog"),c=[],c=Array.prototype.slice.call(a);for(i=c.length;i--;)c[i].style.zIndex=
999,b(c[i]).add("DraggableDialog--inactive");b(this.nodes.containerDiv).remove("DraggableDialog--inactive").add("DraggableDialog--active");this.nodes.containerDiv.style.zIndex=1E3;this.emit("click")};e.exports=function(a,b){return new d(a,b)}});"object"==typeof exports?module.exports=c("draggable-dialog"):"function"==typeof define&&define.amd?define([],function(){return c("draggable-dialog")}):this.draggableDialog=c("draggable-dialog")})();
